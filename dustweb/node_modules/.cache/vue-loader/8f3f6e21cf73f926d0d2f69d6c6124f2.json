{"remainingRequest":"/Volumes/My Passport/DBPractice/dustweb/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Volumes/My Passport/DBPractice/dustweb/src/components/Carrier/UpdatePassword.vue?vue&type=template&id=2ceac532","dependencies":[{"path":"/Volumes/My Passport/DBPractice/dustweb/src/components/Carrier/UpdatePassword.vue","mtime":1626854823070},{"path":"/Volumes/My Passport/DBPractice/dustweb/node_modules/babel-loader/lib/index.js","mtime":315561600000},{"path":"/Volumes/My Passport/DBPractice/dustweb/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1624994109000},{"path":"/Volumes/My Passport/DBPractice/dustweb/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/My Passport/DBPractice/dustweb/node_modules/vue-loader-v16/dist/index.js","mtime":1624994108000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiAgPGRpdj4KICAgIDx0cmFuc2l0aW9uIG5hbWU9ImVsLWZhZGUtaW4tbGluZWFyIj4KICAgICAgPGVsLWFsZXJ0CiAgICAgICAgICB0aXRsZT0i5L+u5pS55oiQ5YqfIgogICAgICAgICAgdHlwZT0ic3VjY2VzcyIKICAgICAgICAgIDpjbG9zYWJsZT0iZmFsc2UiCiAgICAgICAgICBzdHlsZT0id2lkdGg6IDUwMHB4IgogICAgICAgICAgc2hvdy1pY29uIHYtaWY9IlVwZGF0ZVN0YXR1cyI+CiAgICAgIDwvZWwtYWxlcnQ+CiAgICA8L3RyYW5zaXRpb24+CiAgICA8ZWwtZm9ybSA6bW9kZWw9IlVwZGF0ZUZvcm0iIHN0YXR1cy1pY29uIDpydWxlcz0icnVsZXMiIHJlZj0iVXBkYXRlRm9ybSIgbGFiZWwtd2lkdGg9IjEwMHB4IiBjbGFzcz0iZGVtby1ydWxlRm9ybSIgc3R5bGU9IndpZHRoOiA1MDBweCI+CiAgICAgIDxlbC1mb3JtLWl0ZW0gbGFiZWw9IuWOn+WvhueggSIgcHJvcD0ib2xkUGFzcyI+CiAgICAgICAgPGVsLWlucHV0IHR5cGU9InBhc3N3b3JkIiB2LW1vZGVsPSJVcGRhdGVGb3JtLm9sZFBhc3MiIGF1dG9jb21wbGV0ZT0ib2ZmIj48L2VsLWlucHV0PgogICAgICA8L2VsLWZvcm0taXRlbT4KICAgICAgPGVsLWZvcm0taXRlbSBsYWJlbD0i5paw5a+G56CBIiBwcm9wPSJuZXdQYXNzIj4KICAgICAgICA8ZWwtaW5wdXQgdHlwZT0icGFzc3dvcmQiIHYtbW9kZWw9IlVwZGF0ZUZvcm0ubmV3UGFzcyIgYXV0b2NvbXBsZXRlPSJvZmYiPjwvZWwtaW5wdXQ+CiAgICAgIDwvZWwtZm9ybS1pdGVtPgogICAgICA8ZWwtZm9ybS1pdGVtIGxhYmVsPSLnoa7orqTlr4bnoIEiIHByb3A9ImNoZWNrUGFzcyI+CiAgICAgICAgPGVsLWlucHV0IHR5cGU9InBhc3N3b3JkIiB2LW1vZGVsPSJVcGRhdGVGb3JtLmNoZWNrUGFzcyIgYXV0b2NvbXBsZXRlPSJvZmYiPjwvZWwtaW5wdXQ+CiAgICAgIDwvZWwtZm9ybS1pdGVtPgogICAgICA8ZWwtZm9ybS1pdGVtPgogICAgICAgIDxlbC1idXR0b24gdHlwZT0icHJpbWFyeSIgQGNsaWNrPSJzdWJtaXRGb3JtKCdVcGRhdGVGb3JtJykiPuaPkOS6pDwvZWwtYnV0dG9uPgogICAgICAgIDxlbC1idXR0b24gQGNsaWNrPSJyZXNldEZvcm0oJ1VwZGF0ZUZvcm0nKSI+6YeN572uPC9lbC1idXR0b24+CiAgICAgIDwvZWwtZm9ybS1pdGVtPgogICAgPC9lbC1mb3JtPgogIDwvZGl2Pgo="},{"version":3,"sources":["/Volumes/My Passport/DBPractice/dustweb/src/components/Carrier/UpdatePassword.vue"],"names":[],"mappings":";EACE,CAAC,CAAC,CAAC,CAAC;IACF,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MAClC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UACJ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UACX,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UACb,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UAChB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;UACnB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACjC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACZ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACZ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACrI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACtC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACtF,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACd,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACtC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACtF,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACd,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACzC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACxF,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACd,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACX,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACzE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MAC3D,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAChB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACX,CAAC,CAAC,CAAC,CAAC,CAAC","file":"/Volumes/My Passport/DBPractice/dustweb/src/components/Carrier/UpdatePassword.vue","sourceRoot":"","sourcesContent":["<template>\n  <div>\n    <transition name=\"el-fade-in-linear\">\n      <el-alert\n          title=\"修改成功\"\n          type=\"success\"\n          :closable=\"false\"\n          style=\"width: 500px\"\n          show-icon v-if=\"UpdateStatus\">\n      </el-alert>\n    </transition>\n    <el-form :model=\"UpdateForm\" status-icon :rules=\"rules\" ref=\"UpdateForm\" label-width=\"100px\" class=\"demo-ruleForm\" style=\"width: 500px\">\n      <el-form-item label=\"原密码\" prop=\"oldPass\">\n        <el-input type=\"password\" v-model=\"UpdateForm.oldPass\" autocomplete=\"off\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"新密码\" prop=\"newPass\">\n        <el-input type=\"password\" v-model=\"UpdateForm.newPass\" autocomplete=\"off\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"确认密码\" prop=\"checkPass\">\n        <el-input type=\"password\" v-model=\"UpdateForm.checkPass\" autocomplete=\"off\"></el-input>\n      </el-form-item>\n      <el-form-item>\n        <el-button type=\"primary\" @click=\"submitForm('UpdateForm')\">提交</el-button>\n        <el-button @click=\"resetForm('UpdateForm')\">重置</el-button>\n      </el-form-item>\n    </el-form>\n  </div>\n</template>\n\n<script>\nimport { Base64 } from 'js-base64';\nexport default {\n  data() {\n    let validateOldPass = (rule, value, callback) => {\n      if (value === '') {\n        callback(new Error('请输入原密码'));\n      } else {\n        if (value !== Base64.decode(localStorage.getItem(\"password\"))) {\n          callback(new Error('原密码错误'));\n        }\n        callback();\n      }\n    };\n    let validateNewPass = (rule, value, callback) => {\n      if (value === '') {\n        callback(new Error('请输入新密码'));\n      } else {\n        if (this.UpdateForm.checkPass !== '') {\n          this.$refs.UpdateForm.validateField('checkPass');\n        }\n        callback();\n      }\n    };\n    let validateCheckPass = (rule, value, callback) => {\n      if (value === '') {\n        callback(new Error('请再次输入新密码'));\n      } else if (value !== this.UpdateForm.newPass) {\n        callback(new Error('两次输入密码不一致!'));\n      } else {\n        callback();\n      }\n    };\n    return {\n      UpdateForm: {\n        oldPass: '',\n        newPass: '',\n        checkPass: '',\n      },\n      rules: {\n        oldPass: [\n          {validator: validateOldPass, trigger: 'blur'}\n        ],\n        newPass: [\n          {validator: validateNewPass, trigger: 'blur'}\n        ],\n        checkPass: [\n          {validator: validateCheckPass, trigger: 'blur'}\n        ],\n      },\n      UpdateStatus:false\n    };\n  },\n  methods: {\n    submitForm(formName) {\n      console.log(4)\n      this.$refs[formName].validate((valid) => {\n        console.log(valid);\n        const req = {\n          \"id\": Base64.decode(localStorage.getItem(\"username\")),\n          \"name\": \"\",\n          \"password\": this.UpdateForm.newPass,\n          \"phonenumber\": \"\",\n        }\n        fetch(this.$store.state.URL + \"/User/Update/Carrier\", {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n            \"Authorization\": \"Bearer \" + Base64.decode(localStorage.getItem(\"token\"))\n          },\n          body: JSON.stringify(req),\n        }).then((response) => {\n          console.log(req);\n          let result = response.json();\n          result.then((res) => {\n                console.log(res);\n                this.UpdateStatus = res.status;\n                if(this.UpdateStatus===1)\n                  localStorage.setItem(\"password\",Base64.encode(this.UpdateForm.newPass));\n              }\n          )\n        })\n      });\n    },\n    resetForm(formName) {\n      this.$refs[formName].resetFields();\n    }\n  },\n  mounted() {\n    console.log(5);\n  }\n}\n</script>\n\n<style>\n\n</style>\n"]}]}